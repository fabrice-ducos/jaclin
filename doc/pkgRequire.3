'\"
'\" Copyright (c) 1994-1998 Sun Microsystems, Inc.
'\"
'\" See the file "license.terms" for information on usage and redistribution
'\" of this file, and for a DISCLAIMER OF ALL WARRANTIES.
'\" 
'\" RCS: @(#) $Id$
'\" 
.so man.macros
.TH packageRequire 3 1.0 Jacl "Jacl Library Procedures"
.BS
.SH CLASS
tcl.lang.Interp -- This manual entry contains methods that declare
presence of or dependence on a package.

.SH METHODS
.sp
public final String \fBpkgRequire\fR(String \fIpkgname\fR, String \fIversion\fR, boolean \fIexact\fR) throws TclException
.sp
public final void \fBpkgProvide\fR(String \fIpkgname\fR, String \fIversion\fR) throws TclException

.SH OTHER METHODS
\fBdispose\fR,
\fBsetVar\fR, 
\fBtraceVar\fR, 
\fBcreateCommand\fR,
\fBeval\fR, 
.br
\fBsetResult\fR,
\fBbackgroundError\fR,
\fBgetNotifier\fR, 
\fBsetAssocData\fR

.SH ARGUMENTS
.AS boolean pkgname .
.AP String pkgname
Name of package to require or provide.
.AP String version
A version name consisting of one or more decimal numbers separated by
dots, specifying which version of the package \fIpkgname\fR to require
or provide; null means use the latest version available.
.AP boolean exact
Specifies whether to use the exact version specified by \fIversion\fR
or the latest one available whose major version number is the same as
that of \fIversion\fR.
.BE

.SH DESCRIPTION
These procedures provide Java library interfaces to Tcl's package and
version management facilities.
.TP
\fBpkgRequire\fR
The \fBpkgRequire\fR method is called by code that depends on a
particular \fIversion\fR of the package, \fIpkgname\fR.  If the
package is not already provided in the interpreter, this method
invokes a Tcl script to provide it.  If \fIversion\fR is not null, and
\fIexact\fR is true, then the version specified by \fIversion\fR is
provided.  Otherwise, the lastest available version is provided.  If
the package is already provided and the presently provided version
matches the one specified by the \fIversion\fR and \fIexact\fR
arguments (as described above), then no conflict exists, and no action
is taken.
.sp
If successful, this method returns the version string for the newly
(or previously) provided version of the package, which may be
different from the "version" argument.  If the caller's requirements
cannot be met (e.g. the version requested conflicts with a currently
provided version, or the required version cannot be found, or the
script to provide the required version generates an error), a
TclException is thrown.
.TP
\fBpkgProvide\fR
The \fBpkgProvide\fR method declares the presence of a particular
\fIversion\fR of the package, \fIpkgname\fR, in the interpreter.  If
there is already another version of the package loaded in this
interpreter, then an exception is thrown.  Otherwise, the interpreter
remembers that this package is available, so that no other version of
the package may be provided.

.SH EQUIVALENT C FUNCTIONS
Tcl_PkgRequire, Tcl_PkgProvide

.SH "SEE ALSO"
Interp, package

.SH KEYWORDS
interpreter, package, provide, require, version
